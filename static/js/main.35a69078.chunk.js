(this["webpackJsonpthe-f2e-2nd-freecell"]=this["webpackJsonpthe-f2e-2nd-freecell"]||[]).push([[0],[,,,,,,,,,,,,function(e,n,t){e.exports=t.p+"static/media/Diamond.31995290.svg"},,,function(e,n,t){e.exports=t.p+"static/media/Back.e066850b.svg"},,,,,,,,,function(e,n,t){e.exports=t.p+"static/media/A_Clubs.ab7bb5e4.svg"},function(e,n,t){e.exports=t.p+"static/media/2_Clubs.e4e26db0.svg"},function(e,n,t){e.exports=t.p+"static/media/3_Clubs.892db90b.svg"},function(e,n,t){e.exports=t.p+"static/media/4_Clubs.5b90a8c7.svg"},function(e,n,t){e.exports=t.p+"static/media/5_Clubs.47f6c983.svg"},function(e,n,t){e.exports=t.p+"static/media/6_Clubs.48832486.svg"},function(e,n,t){e.exports=t.p+"static/media/7_Clubs.2ef336e9.svg"},function(e,n,t){e.exports=t.p+"static/media/8_Clubs.d4104ecc.svg"},function(e,n,t){e.exports=t.p+"static/media/9_Clubs.267dd350.svg"},function(e,n,t){e.exports=t.p+"static/media/10_Clubs.d98b0a84.svg"},function(e,n,t){e.exports=t.p+"static/media/J_Clubs.caa46bb5.svg"},function(e,n,t){e.exports=t.p+"static/media/Q_Clubs.baf9c346.svg"},function(e,n,t){e.exports=t.p+"static/media/K_Clubs.0133363c.svg"},function(e,n,t){e.exports=t.p+"static/media/A_Diamonds.d4e862c2.svg"},function(e,n,t){e.exports=t.p+"static/media/2_Diamonds.6d650114.svg"},function(e,n,t){e.exports=t.p+"static/media/3_Diamonds.bebcc8b6.svg"},function(e,n,t){e.exports=t.p+"static/media/4_Diamonds.251f67f3.svg"},function(e,n,t){e.exports=t.p+"static/media/5_Diamonds.0ba28f45.svg"},function(e,n,t){e.exports=t.p+"static/media/6_Diamonds.4d9a975a.svg"},function(e,n,t){e.exports=t.p+"static/media/7_Diamonds.5331b794.svg"},function(e,n,t){e.exports=t.p+"static/media/8_Diamonds.2a6e62cb.svg"},function(e,n,t){e.exports=t.p+"static/media/9_Diamonds.3fd0cedc.svg"},function(e,n,t){e.exports=t.p+"static/media/10_Diamonds.4f39720c.svg"},function(e,n,t){e.exports=t.p+"static/media/J_Diamonds.65f7a17a.svg"},function(e,n,t){e.exports=t.p+"static/media/Q_Diamonds.0dc1bf7e.svg"},function(e,n,t){e.exports=t.p+"static/media/K_Diamonds.fcb26db6.svg"},function(e,n,t){e.exports=t.p+"static/media/A_Hearts.304bb6ef.svg"},function(e,n,t){e.exports=t.p+"static/media/2_Hearts.fb185d4a.svg"},function(e,n,t){e.exports=t.p+"static/media/3_Hearts.f606a128.svg"},function(e,n,t){e.exports=t.p+"static/media/4_Hearts.ac9215b0.svg"},function(e,n,t){e.exports=t.p+"static/media/5_Hearts.68ee58f6.svg"},function(e,n,t){e.exports=t.p+"static/media/6_Hearts.5f182f50.svg"},function(e,n,t){e.exports=t.p+"static/media/7_Hearts.f5872bbf.svg"},function(e,n,t){e.exports=t.p+"static/media/8_Hearts.3d92aa60.svg"},function(e,n,t){e.exports=t.p+"static/media/9_Hearts.76e62b4f.svg"},function(e,n,t){e.exports=t.p+"static/media/10_Hearts.74b1e4e4.svg"},function(e,n,t){e.exports=t.p+"static/media/J_Hearts.6de610fa.svg"},function(e,n,t){e.exports=t.p+"static/media/Q_Hearts.9dc93f1c.svg"},function(e,n,t){e.exports=t.p+"static/media/K_Hearts.1b5bfe88.svg"},function(e,n,t){e.exports=t.p+"static/media/A_Spades.ca023df2.svg"},function(e,n,t){e.exports=t.p+"static/media/2_Spades.43f683bd.svg"},function(e,n,t){e.exports=t.p+"static/media/3_Spades.858145f6.svg"},function(e,n,t){e.exports=t.p+"static/media/4_Spades.588dcc75.svg"},function(e,n,t){e.exports=t.p+"static/media/5_Spades.3c34f454.svg"},function(e,n,t){e.exports=t.p+"static/media/6_Spades.0b965a7e.svg"},function(e,n,t){e.exports=t.p+"static/media/7_Spades.11c46e38.svg"},function(e,n,t){e.exports=t.p+"static/media/8_Spades.8f71dc86.svg"},function(e,n,t){e.exports=t.p+"static/media/9_Spades.6399907c.svg"},function(e,n,t){e.exports=t.p+"static/media/10_Spades.61874387.svg"},function(e,n,t){e.exports=t.p+"static/media/J_Spades.8b41eabe.svg"},function(e,n,t){e.exports=t.p+"static/media/Q_Spades.2d09b22a.svg"},function(e,n,t){e.exports=t.p+"static/media/K_Spades.85240b93.svg"},,function(e,n,t){e.exports=t.p+"static/media/Hint.9e78d091.svg"},function(e,n,t){e.exports=t.p+"static/media/Time icon.260221fc.svg"},function(e,n,t){e.exports=t.p+"static/media/Plus.e8151770.svg"},function(e,n,t){e.exports=t.p+"static/media/Check.23cfd688.svg"},function(e,n,t){e.exports=t(111)},,,,,,,,,function(e,n,t){},function(e,n,t){},,function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(14),i=t.n(c),l=t(2),s=(t(90),t(7)),o=t(22),u=t(3),d=t(23),f={DRAG_CARD:"DRAG_CARD",REMOVE_DRAGGED_CARD:"REMOVE_DRAGGED_CARD",DROP_CARD:"DROP_CARD",DROP_CARD_TO_FREE_CELL:"DROP_CARD_TO_FREE_CELL",DROP_CARD_TO_HOME_CELL:"DROP_CARD_TO_HOME_CELL",START_A_NEW_GAME:"START_A_NEW_GAME",RESTART_THIS_GAME:"RESTART_THIS_GAME",END_GAME:"END_GAME",TOGGLE_MENU:"TOGGLE_MENU",BACK_ONE_STEP:"BACK_ONE_STEP",GET_HINT:"GET_HINT",UPDATE_TIMER:"UPDATE_TIMER",INCREASE_GAME_POINTS:"INCREASE_GAME_POINTS"},m=t(4),p=t(24),g=t.n(p),_=t(25),b=t.n(_),v=t(26),E=t.n(v),C=t(27),x=t.n(C),O=t(28),h=t.n(O),D=t(29),I=t.n(D),j=t(30),y=t.n(j),A=t(31),N=t.n(A),R=t(32),T=t.n(R),S=t(33),H=t.n(S),M=t(34),G=t.n(M),k=t(35),P=t.n(k),w=t(36),L=t.n(w),K=t(37),J=t.n(K),Q=t(38),F=t.n(Q),U=t(39),B=t.n(U),W=t(40),V=t.n(W),z=t(41),$=t.n(z),q=t(42),X=t.n(q),Y=t(43),Z=t.n(Y),ee=t(44),ne=t.n(ee),te=t(45),ae=t.n(te),re=t(46),ce=t.n(re),ie=t(47),le=t.n(ie),se=t(48),oe=t.n(se),ue=t(49),de=t.n(ue),fe=t(50),me=t.n(fe),pe=t(51),ge=t.n(pe),_e=t(52),be=t.n(_e),ve=t(53),Ee=t.n(ve),Ce=t(54),xe=t.n(Ce),Oe=t(55),he=t.n(Oe),De=t(56),Ie=t.n(De),je=t(57),ye=t.n(je),Ae=t(58),Ne=t.n(Ae),Re=t(59),Te=t.n(Re),Se=t(60),He=t.n(Se),Me=t(61),Ge=t.n(Me),ke=t(62),Pe=t.n(ke),we=t(63),Le=t.n(we),Ke=t(64),Je=t.n(Ke),Qe=t(65),Fe=t.n(Qe),Ue=t(66),Be=t.n(Ue),We=t(67),Ve=t.n(We),ze=t(68),$e=t.n(ze),qe=t(69),Xe=t.n(qe),Ye=t(70),Ze=t.n(Ye),en=t(71),nn=t.n(en),tn=t(72),an=t.n(tn),rn=t(73),cn=t.n(rn),ln=t(74),sn=t.n(ln),on=t(75),un=t.n(on);function dn(){for(var e,n,t,a=function(e){return{lastNum:e,next:function(){return this.lastNum=(214013*this.lastNum+2531011)%Math.pow(2,31),this.lastNum>>16}}}(Math.floor(1e6*Math.random())+1),r=function(){for(var e=["A","2","3","4","5","6","7","8","9","10","J","Q","K"],n=["Clubs","Diamonds","Hearts","Spades"],t=[],a=0;a<e.length;a+=1)for(var r=0;r<n.length;r+=1)t.push("".concat(e[a],"_").concat(n[r]));return t}(),c=[[],[],[],[],[],[],[],[]],i=0,l=0;r.length>0;)e=a.next()%r.length,n=r[r.length-1],r[r.length-1]=r[e],r[e]=n,t=r.pop(),c[l].push(t),(7===(i+=1)||l>3&&6===i)&&(i=0,l+=1);return c}function fn(e){return"A_Clubs"===e?g.a:"A_Diamonds"===e?J.a:"A_Hearts"===e?me.a:"A_Spades"===e?Le.a:"2_Clubs"===e?b.a:"2_Diamonds"===e?F.a:"2_Hearts"===e?ge.a:"2_Spades"===e?Je.a:"3_Clubs"===e?E.a:"3_Diamonds"===e?B.a:"3_Hearts"===e?be.a:"3_Spades"===e?Fe.a:"4_Clubs"===e?x.a:"4_Diamonds"===e?V.a:"4_Hearts"===e?Ee.a:"4_Spades"===e?Be.a:"5_Clubs"===e?h.a:"5_Diamonds"===e?$.a:"5_Hearts"===e?xe.a:"5_Spades"===e?Ve.a:"6_Clubs"===e?I.a:"6_Diamonds"===e?X.a:"6_Hearts"===e?he.a:"6_Spades"===e?$e.a:"7_Clubs"===e?y.a:"7_Diamonds"===e?Z.a:"7_Hearts"===e?Ie.a:"7_Spades"===e?Xe.a:"8_Clubs"===e?N.a:"8_Diamonds"===e?ne.a:"8_Hearts"===e?ye.a:"8_Spades"===e?Ze.a:"9_Clubs"===e?T.a:"9_Diamonds"===e?ae.a:"9_Hearts"===e?Ne.a:"9_Spades"===e?nn.a:"10_Clubs"===e?H.a:"10_Diamonds"===e?ce.a:"10_Hearts"===e?Te.a:"10_Spades"===e?an.a:"J_Clubs"===e?G.a:"J_Diamonds"===e?le.a:"J_Hearts"===e?He.a:"J_Spades"===e?cn.a:"Q_Clubs"===e?P.a:"Q_Diamonds"===e?oe.a:"Q_Hearts"===e?Ge.a:"Q_Spades"===e?sn.a:"K_Clubs"===e?L.a:"K_Diamonds"===e?de.a:"K_Hearts"===e?Pe.a:"K_Spades"===e?un.a:void 0}function mn(e,n){return!("Diamonds"!==e&&"Hearts"!==e||"Clubs"!==n&&"Spades"!==n)||!("Clubs"!==e&&"Spades"!==e||"Diamonds"!==n&&"Hearts"!==n)}function pn(e,n){return e===n}function gn(e){switch(e){case"A":return 1;case"J":return 11;case"Q":return 12;case"K":return 13;default:return parseInt(e)}}function _n(e,n){return gn(e)-gn(n)===1}function bn(e){var n=Math.floor(e/60),t=e-60*n;return n<10&&(n="0"+n),t<10&&(t="0"+t),"".concat(n,":").concat(t)}function vn(e){var n=0;return e.forEach((function(e){null!==e&&0!==e.length||(n+=1)})),n}function En(e,n,t,a){var r=e[t],c=vn(e)+vn(n)+1;if(r.length-a>c)return!1;for(var i=Object(u.a)(r).splice(a,r.length-a).reverse().map((function(e){var n=e.split("_"),t=Object(m.a)(n,2);return{point:t[0],suit:t[1]}})),l=0;l<i.length-1;l++){if(!mn(i[l].suit,i[l+1].suit))return!1;if(!_n(i[l+1].point,i[l].point))return!1}return!0}var Cn=function(e){return"undefined"!==typeof e.columnIndex?"tableau":"undefined"!==typeof e.freeCellIndex?"freecell":"undefined"!==typeof e.homeCellIndex?"homecell":void 0},xn=function(e,n,t){var a,r=Cn(t);if("tableau"===r){var c=e[t.columnIndex];a=c.splice(t.index,c.length-t.index)}else"freecell"===r&&(a=[n[t.freeCellIndex]],n[t.freeCellIndex]=null);return a},On=function(e,n){var t,a=e.tableauCards,r=e.freeCellCards,c=e.isDraggedCard,i=Object(u.a)(a),l=Object(u.a)(r),s=n.columnIndex,o=xn(i,l,c);return(t=i[s]).push.apply(t,Object(u.a)(o)),{freeCellCards:l,tableauCards:i}},hn=function(e,n){var t=e.tableauCards,a=e.freeCellCards,r=e.isDraggedCard,c=Object(u.a)(t),i=Object(u.a)(a),l=n.freeCellIndex,s=xn(c,i,r);return i[l]=s[0],{freeCellCards:i,tableauCards:c}},Dn=function(e,n){var t=e.tableauCards,a=e.homeCellCards,r=e.freeCellCards,c=e.isDraggedCard,i=Object(u.a)(t),l=Object(u.a)(a),s=Object(u.a)(r),o=xn(i,s,c);return l[n.homeCellIndex].push(o[0]),{homeCellCards:l,tableauCards:i,freeCellCards:s}},In=function(e,n){return{source:e.isDraggedCard,target:n}},jn=function(e){var n=e.tableauCards,t=e.homeCellCards,a=e.freeCellCards,r=Object(u.a)(n),c=Object(u.a)(t),i=Object(u.a)(a),l=e.moveHistories.pop(),s=Cn(l.source),o=function(e,n,t,a,r){var c;if("freecell"===e){var i=n.freeCellIndex;c=[r[i]],r[i]=null}else if("homecell"===e){c=a[n.homeCellIndex].splice(-1,1)}else if("tableau"===e){c=t[n.columnIndex].splice(n.index,n.numOfCards)}return c}(Cn(l.target),l.target,r,c,i);if("freecell"===s)i[l.source.freeCellIndex]=o[0];else if("tableau"===s){var d;(d=r[l.source.columnIndex]).push.apply(d,Object(u.a)(o))}return{freeCellCards:i,homeCellCards:c,tableauCards:r}};function yn(e,n){return e[n.columnIndex].length-1===n.index}function An(e){return"undefined"===typeof e.card||null===e.card}var Nn=function(e){var n=Object(u.a)(e.tableauCards),t=Object(u.a)(e.homeCellCards),a=Object(u.a)(e.freeCellCards),r=function(e){for(var n=e.length-1;n>0;n--){var t=Math.floor(Math.random()*(n+1)),a=[e[t],e[n]];e[n]=a[0],e[t]=a[1]}return e}(function(e,n){for(var t=[],a=0;a<e.length;a++)if(0!==e[a].length){for(var r=e[a].length-1;r>=0;r--)if(En(e,n,a,r)){var c=e[a][r].split("_"),i=Object(m.a)(c,2),l=i[0],s=i[1];t.push({columnIndex:a,index:r,card:{point:l,suit:s}})}}else t.push({columnIndex:a,index:0});return t}(n,a));a=function(e){return e.map((function(e,n){return{freeCellIndex:n,card:e}}))}(a),t=function(e){return e.map((function(e,n){if(0===e.length)return{homeCellIndex:n,card:e};var t=e[e.length-1].split("_"),a=Object(m.a)(t,2);return{homeCellIndex:n,card:{point:a[0],suit:a[1]}}}))}(t);for(var c=[],i=0;i<r.length;i++){var l=r[i];if(!An(l))for(var s=0;s<t.length;s++){var o=t[s];if(0===o.card.length&&"A"===l.card.point||pn(l.card.suit,o.card.suit)&&_n(l.card.point,o.card.point)&&yn(n,l))return c=[{columnIndex:l.columnIndex,index:l.index},{homeCellIndex:o.homeCellIndex}]}}for(var d=0;d<r.length-1;d++){var f=r[d];if(!An(f))for(var p=d+1;p<r.length;p++){var g=r[p];if(!An(g)&&(mn(f.card.suit,g.card.suit)&&(_n(f.card.point,g.card.point)&&yn(n,f)||_n(g.card.point,f.card.point)&&yn(n,g))&&f.columnIndex!==g.columnIndex))return c=[{columnIndex:f.columnIndex,index:f.index},{columnIndex:g.columnIndex,index:g.index}]}}for(var _=0;_<r.length;_++)for(var b=r[_],v=0;v<a.length;v++){var E=a[v];if(console.log(b,E),An(b)&&!An(E)||!An(b)&&An(E)&&yn(n,b))return c=[{columnIndex:b.columnIndex,index:b.index},{freeCellIndex:E.freeCellIndex}];if(yn(n,b)&&mn(b.card.suit,E.card.suit)&&_n(b.card.point,E.card.point))return c=[{columnIndex:b.columnIndex,index:b.index},{freeCellIndex:E.freeCellIndex}]}for(var C=0;C<r.length;C++)for(var x=r[C],O=C+1;O<r.length;O++){var h=r[O];if(An(x)&&!An(h)||!An(x)&&An(h))return c=[{columnIndex:x.columnIndex,index:x.index},{columnIndex:h.columnIndex,index:h.index}]}return c};function Rn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function Tn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Rn(t,!0).forEach((function(n){Object(d.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Rn(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Sn=dn(),Hn={initTableauCards:Sn.map((function(e){return e.slice()})),tableauCards:Sn.map((function(e){return e.slice()})),moveHistories:[],freeCellCards:[null,null,null,null],homeCellCards:[[],[],[],[]],isDraggedCard:null,game:{points:0,time:0,hint:[]},showMenu:!1},Mn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hn,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case f.DRAG_CARD:return Tn({},e,{isDraggedCard:n.payload,game:Tn({},e.game,{hint:[]})});case f.REMOVE_DRAGGED_CARD:return Tn({},e,{isDraggedCard:null});case f.DROP_CARD:return Tn({},e,{},On(e,n.payload),{moveHistories:[].concat(Object(u.a)(e.moveHistories),[In(e,n.payload)])});case f.DROP_CARD_TO_FREE_CELL:return Tn({},e,{},hn(e,n.payload),{moveHistories:[].concat(Object(u.a)(e.moveHistories),[In(e,n.payload)])});case f.DROP_CARD_TO_HOME_CELL:return Tn({},e,{},Dn(e,n.payload),{moveHistories:[].concat(Object(u.a)(e.moveHistories),[In(e,n.payload)])});case f.START_A_NEW_GAME:var t=dn();return Tn({},e,{initTableauCards:t.map((function(e){return e.slice()})),tableauCards:t.map((function(e){return e.slice()})),freeCellCards:[null,null,null,null],homeCellCards:[[],[],[],[]],moveHistories:[],game:{points:0,time:0,hint:[]}});case f.END_GAME:return Tn({},e,{tableauCards:[],freeCellCards:[null,null,null,null]});case f.TOGGLE_MENU:return"close"===n.payload?Tn({},e,{showMenu:!1}):Tn({},e,{showMenu:!e.showMenu});case f.BACK_ONE_STEP:return Tn({},e,{},jn(e,n.payload));case f.RESTART_THIS_GAME:return Tn({},e,{tableauCards:e.initTableauCards.map((function(e){return e.slice()})),freeCellCards:[null,null,null,null],homeCellCards:[[],[],[],[]],game:{points:0,time:0,hint:[]}});case f.UPDATE_TIMER:return Tn({},e,{game:Tn({},e.game,{time:e.game.time+1})});case f.INCREASE_GAME_POINTS:return Tn({},e,{game:Tn({},e.game,{points:e.game.points+5})});case f.GET_HINT:return Tn({},e,{game:Tn({},e.game,{hint:Nn(e)})});default:return e}},Gn=Object(s.c)({freecell:Mn}),kn=(Object(o.createLogger)(),Object(s.d)(Gn,s.a.apply(void 0,[]))),Pn=(t(91),t(6)),wn=t(11),Ln=t(15),Kn=t.n(Ln),Jn=t(77),Qn=t.n(Jn),Fn=(t(93),t(12)),Un=t.n(Fn),Bn=(t(94),function(e){return{type:f.DRAG_CARD,payload:e}}),Wn=function(){return{type:f.REMOVE_DRAGGED_CARD}},Vn=function(e){return{type:f.DROP_CARD,payload:e}},zn=function(e){return{type:f.TOGGLE_MENU,payload:e}},$n=t(18),qn=Object($n.a)((function(e){return e.freecell.tableauCards}),(function(e){return e.freecell.freeCellCards}),(function(e,n){return e.reduce((function(e,n){return e+n.length}),0)+n.reduce((function(e,n){return e+(null!==n?1:0)}),0)===0})),Xn=(Object($n.a)((function(e){return e.freecell.moveHistories}),(function(e){return e.length>0})),function(){var e=Object(l.c)(qn),n=Object(l.c)((function(e){return e.freecell.game.points})),t=Object(l.c)((function(e){return e.freecell.game.time})),c=Object(l.b)(),i=Object(a.useState)(null),s=Object(m.a)(i,2),o=s[0],u=s[1];return Object(a.useEffect)((function(){e?clearInterval(o):u(setInterval((function(){c({type:f.UPDATE_TIMER})}),1e3))}),[e]),r.a.createElement("div",{className:"header"},e?r.a.createElement(r.a.Fragment,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"header__points"},n),r.a.createElement("img",{src:Un.a,alt:"diamond",className:"header__diamond"}),r.a.createElement("span",{className:"header__time"},bn(t))))}),Yn=(t(95),t(96),t(97),"FREECEEL"),Zn=function(e){var n=e.drag,t=e.card,a=e.isDragging;return r.a.createElement("div",{ref:n,className:"free-cell-card__card",style:{backgroundImage:"url(".concat(fn(t),")"),opacity:a?0:1}})},et=function(e){var n=e.card,t=e.index,c=Object(l.b)(),i=Object(l.c)((function(e){return e.freecell.game.hint})).find((function(e){return e.freeCellIndex===t})),s=Object(Pn.c)({item:{type:Yn},begin:function(){return c(Bn({freeCellIndex:t,card:n,numOfCards:1}))},end:function(e,n){return c(Wn())},canDrag:function(){return null!==n},collect:function(e){return{isDragging:e.isDragging()}}}),o=Object(m.a)(s,3),u=o[0].isDragging,d=o[1],p=o[2];Object(a.useEffect)((function(){p(Object(wn.b)(),{captureDraggingState:!0})}),[]);var g,_=Object(Pn.e)({accept:Yn,canDrop:function(){return null===n},drop:function(){return c({type:f.DROP_CARD_TO_FREE_CELL,payload:{freeCellIndex:t}})}}),b=Object(m.a)(_,2)[1];return n&&(g=r.a.createElement(Zn,{drag:d,card:n,isDragging:u})),r.a.createElement("div",{ref:b,className:"free-cell-card "+(i?"free-cell-card--hint":""),key:"card-".concat(t)},g)},nt=function(){var e=Object(l.c)((function(e){return e.freecell.freeCellCards}));return r.a.createElement("div",{className:"free-cells"},e.map((function(e,n){return r.a.createElement(et,{card:e,index:n,key:"free cell ".concat(n)})})))},tt=(t(98),t(99),function(e){var n=e.card,t=e.index,a=Object(l.b)(),c=Object(l.c)((function(e){return e.freecell.isDraggedCard})),i=Object(l.c)((function(e){return e.freecell.game.hint})).find((function(e){return e.homeCellIndex===t})),s=Object(Pn.e)({accept:Yn,canDrop:function(){return function(e,n){var t=e.split("_"),a=Object(m.a)(t,2),r=a[0],c=a[1];if("undefined"===typeof n){if("A"===r)return!0}else{var i=n.split("_"),l=Object(m.a)(i,2),s=l[0];if(pn(c,l[1])&&_n(r,s))return!0}return!1}(c.card,n[n.length-1])},drop:function(){a({type:f.DROP_CARD_TO_HOME_CELL,payload:{homeCellIndex:t}}),a({type:f.INCREASE_GAME_POINTS})}}),o=Object(m.a)(s,2)[1],u=n.length>0?r.a.createElement("div",{key:n,className:"home-cell-card__card",style:{backgroundImage:"url(".concat(fn(n[n.length-1]),")")}}):"A";return r.a.createElement("div",{ref:o,className:"home-cell-card "+(i?"home-cell-card--hint":""),key:"card-".concat(t)},u)}),at=function(){var e=Object(l.c)((function(e){return e.freecell.homeCellCards}));return r.a.createElement("div",{className:"home-cells"},e.map((function(e,n){return r.a.createElement(tt,{card:e,index:n,key:"home cell ".concat(n)})})))};t(100),t(101),t(102),t(103);function rt(e,n,t,a){return{backgroundImage:"url(".concat(fn(e),")"),border:n&&t&&a?"3px solid #ffac4e":"",borderRadius:n&&t&&a?"16px":""}}var ct=function(e){var n=e.card,t=e.isLastElement,a=e.isOver,c=e.canDrop;return r.a.createElement("div",{className:"card",style:rt(n,a,c,t),key:n})};function it(e,n){if(e>15){if(e-n>7)return 20}else if(e-n>9)return 20;return 36}function lt(e,n,t){return{top:0===n?"0px":it(e,n)+"px",width:"132px",height:t?0:it(e,n)*(e-n-1)+204+"px",opacity:t?0:1}}var st=function(e){var n=e.nested,t=e.card,c=t.card,i=t.index,s=e.columnIndex,o=e.cardLength,u=e.isLastElement,d=Object(l.b)(),f=Object(l.c)((function(e){return e.freecell.isDraggedCard})),p=Object(l.c)((function(e){return e.freecell.tableauCards})),g=Object(l.c)((function(e){return e.freecell.freeCellCards})),_=Object(l.c)((function(e){return e.freecell.game.hint})).find((function(e){return e.columnIndex===s&&e.index===i})),b=Object(Pn.c)({item:{type:Yn},begin:function(){return d(Bn({card:c,columnIndex:s,index:i,numOfCards:o-i}))},end:function(){return d(Wn())},canDrag:function(e){return En(p,g,s,i)},collect:function(e){return{isDragging:!!e.isDragging()}}}),v=Object(m.a)(b,3),E=v[0].isDragging,C=v[1],x=v[2];Object(a.useEffect)((function(){x(Object(wn.b)(),{captureDraggingState:!0})}),[]);var O=Object(Pn.e)({accept:Yn,canDrop:function(){return function(e,n){if(e.columnIndex===n.columnIndex)return!1;var t=e.card.split("_"),a=Object(m.a)(t,2),r=a[0],c=a[1],i=n.card.split("_"),l=Object(m.a)(i,2),s=l[0],o=l[1];return!(c===o||r===s||!mn(c,o)||!_n(s,r))}(f,{card:c,columnIndex:s,index:i})},drop:function(){d(Vn({columnIndex:s,index:i+1,numOfCards:f.numOfCards}))},collect:function(e){return{isOver:!!e.isOver(),canDrop:!!e.canDrop()}}}),h=Object(m.a)(O,2),D=h[0],I=D.isOver,j=D.canDrop,y=h[1],A={ref:C};return f&&f.card!==c&&(A.ref=y),r.a.createElement("div",Object.assign({},A,{className:"nested-draggable "+(_?"nested-draggable--hint":""),style:lt(o,i,E)}),r.a.createElement(ct,{card:c,isLastElement:u,cardLength:o,isOver:I,canDrop:j,isDragging:E}),n)};t(104);function ot(e){return{border:e?"3px solid #ffac4e":"",borderRadius:e?"16px":""}}var ut=function(e){var n=e.columnIndex,t=Object(l.b)(),a=Object(l.c)((function(e){return e.freecell.isDraggedCard})),c=Object(l.c)((function(e){return e.freecell.game.hint})).find((function(e){return e.columnIndex===n})),i=Object(Pn.e)({accept:Yn,drop:function(){t(Vn({columnIndex:n,index:0,numOfCards:a.numOfCards}))},collect:function(e){return{isOver:!!e.isOver()}}}),s=Object(m.a)(i,2),o=s[0].isOver,u=s[1];return r.a.createElement("div",{ref:u,className:"blank-draggable "+(c?"blank-draggable--hint":""),style:ot(o)})},dt=function(e){var n=e.cards,t=e.columnIndex;return r.a.createElement("div",{className:"tableau-column"},n.length>0?n.map((function(e,n){return{card:e,index:n}})).reverse().reduce((function(e,a){return r.a.createElement(st,{nested:e,cardLength:n.length,card:a,columnIndex:t,isLastElement:a.index===n.length-1})}),null):r.a.createElement(ut,{columnIndex:t}))},ft=function(){var e=Object(l.c)((function(e){return e.freecell.tableauCards}));return r.a.createElement("div",{className:"tableau"},e.map((function(e,n){return r.a.createElement(dt,{key:"tableau ".concat(n),cards:e,columnIndex:n})})))},mt=t(78),pt=t.n(mt),gt=(t(105),t(106),function(){var e=Object(l.b)();return r.a.createElement("div",{className:"restart-game-btn",onClick:function(){e({type:f.RESTART_THIS_GAME}),e(zn("close"))}},r.a.createElement("span",null,"Restart this game"),r.a.createElement("div",{className:"restart-game-btn__icon",style:{backgroundImage:"url(".concat(Kn.a,")")}}))}),_t=(t(107),t(79)),bt=t.n(_t),vt=function(){var e=Object(l.b)();return r.a.createElement("div",{className:"new-game-btn",onClick:function(){e({type:f.START_A_NEW_GAME}),e(zn("close"))}},r.a.createElement("span",null,"Start a new game"),r.a.createElement("div",{className:"new-game-btn__icon",style:{backgroundImage:"url(".concat(bt.a,")")}}))},Et=function(){var e=Object(l.c)((function(e){return e.freecell.game.time})),n=Object(l.c)((function(e){return e.freecell.game.points}));return r.a.createElement("div",{className:"end-game"},r.a.createElement("div",{className:"end-game__content"},r.a.createElement("div",{className:"end-game__info"},r.a.createElement("div",{className:"end-game__game-points"},r.a.createElement("img",{src:Un.a,alt:"diamond"}),r.a.createElement("h1",null,n),r.a.createElement("img",{src:Un.a,alt:"diamond"})),r.a.createElement("div",{className:"end-game__game-time"},r.a.createElement("img",{src:pt.a,alt:"time"}),r.a.createElement("h4",null,bn(e)))),r.a.createElement("div",{className:"end-game__operations"},r.a.createElement(gt,null),r.a.createElement(vt,null))))};t(108);function Ct(e,n){return{backgroundImage:"url(".concat(fn(e),")"),top:36*n+"px"}}var xt=function(e){var n=e.card,t=e.index;return r.a.createElement("div",{className:"card-drag-preview__card-image",key:n,style:Ct(n,t)})},Ot=function(e){var n,t=Object(l.c)((function(e){return e.freecell.tableauCards})),a=e.card.payload;return r.a.createElement("div",{className:"card-drag-preview",style:(n=a.numOfCards,{height:36*(n-1)+204+"px"})},function(e){return"undefined"!==typeof e.columnIndex?r.a.createElement(r.a.Fragment,null,Object(u.a)(t[e.columnIndex]).splice(e.index,e.numOfCards).map((function(e,n){return r.a.createElement(xt,{card:e,index:n,key:e})}))):"undefined"!==typeof e.freeCellIndex?r.a.createElement(xt,{card:e.card,index:0}):void 0}(a))},ht={position:"fixed",pointerEvents:"none",zIndex:100,left:0,top:0,width:"100%",height:"100%"};function Dt(e,n){if(!e||!n)return{display:"none"};var t=n.x,a=n.y,r="translate(".concat(t,"px, ").concat(a,"px)");return{transform:r,WebkitTransform:r}}var It=function(e){var n=Object(Pn.d)((function(e){return{item:e.getItem(),itemType:e.getItemType(),initialOffset:e.getInitialSourceClientOffset(),currentOffset:e.getSourceClientOffset(),isDragging:e.isDragging()}})),t=n.itemType,a=n.isDragging,c=n.item,i=n.initialOffset,l=n.currentOffset;return a?r.a.createElement("div",{style:ht},r.a.createElement("div",{style:Dt(i,l)},function(){switch(t){case Yn:return r.a.createElement(Ot,{card:c});default:return null}}())):null},jt=function(){var e=Object(l.c)(qn);return r.a.createElement("div",{className:"game-board"},r.a.createElement(It,null),r.a.createElement("div",{className:"game-board__top-nav"},r.a.createElement(nt,null),r.a.createElement(at,null)),e?r.a.createElement(Et,null):r.a.createElement(ft,null))},yt=(t(109),t(110),t(80)),At=t.n(yt),Nt=function(){var e=Object(l.b)();return r.a.createElement("div",{className:"end-game-btn",onClick:function(){e({type:f.END_GAME}),e(zn())}},r.a.createElement("span",null,"End game"),r.a.createElement("div",{className:"end-game-btn__icon",style:{backgroundImage:"url(".concat(At.a,")")}}))},Rt=function(){var e=Object(l.c)((function(e){return e.freecell.showMenu}));return r.a.createElement("div",{className:"menu ".concat(e?"menu--active":"")},r.a.createElement("div",{className:"menu__content"},r.a.createElement(gt,null),r.a.createElement(vt,null),r.a.createElement(Nt,null)))},Tt=function(){var e=Object(l.b)(),n=Object(l.c)((function(e){return e.freecell.showMenu})),t=Object(l.c)((function(e){return e.freecell.moveHistories.length>0})),a=Object(l.c)(qn),c=function(){e(zn())};return r.a.createElement("div",{className:"free-cell"},r.a.createElement("header",{className:"free-cell__header"},r.a.createElement("div",{className:"free-cell__logo"},"Freecell"),r.a.createElement(Xn,null),r.a.createElement("div",{className:"free-cell__menu ".concat(n?"free-cell__menu--active":""),onClick:c},r.a.createElement("span",null))),r.a.createElement(Rt,{isShow:n,handleToggleMenu:c}),r.a.createElement("div",{className:"free-cell__game-board"},r.a.createElement(Pn.b,{backend:wn.a},r.a.createElement(jt,null)),r.a.createElement("div",{className:"free-cell__game-btn"},r.a.createElement("div",{className:"free-cell__hint",onClick:function(){e({type:f.GET_HINT})}},r.a.createElement("button",null,r.a.createElement("img",{src:Qn.a,alt:"hint button"}))),r.a.createElement("div",{className:"free-cell__back",onClick:function(){t&&!a&&e({type:f.BACK_ONE_STEP})}},r.a.createElement("button",null,r.a.createElement("img",{src:Kn.a,alt:"back button"}))))))};var St=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Tt,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(l.a,{store:kn},r.a.createElement(St,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[81,1,2]]]);
//# sourceMappingURL=main.35a69078.chunk.js.map